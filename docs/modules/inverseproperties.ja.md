# 逆プロパティ

[逆プロパティモジュール](https://omeka.org/s/modules/InverseProperties/){target=_blank}は、管理者がリソース間(アイテム、アイテムセット、メディア)の逆プロパティを定義できるようにすることで、プロパティ値を双方向に具体的にリンクさせることができます。

Omeka Sでは、インストールされたリソースは他のリソースにリンクすることができます。[アイテム](../content/items.md#linked-resources)は他のアイテム、アイテムセット、または自分自身のメディアに；[メディア](../content/media.md#omeka-resource)はアイテムやアイテムセットに；[アイテムセット](/content/item-sets.md#linked-resources)は他のアイテムセットやアイテムにリンクされます。これらのリンクはメタデータ値を通じて追加されます。例えば、"Much Ado About Nothing"の脚本アイテムに"Creator"として"William Shakespeare"の人物アイテムを使用する場合です。この人物アイテムを見ると、リンクされたリソースのテーブルに受け入れリンクが表示されます。

これらのメタデータリンクはデフォルトでは一方通行です ― 脚本のアイテムを編集しても、人物のアイテムには影響しません。逆プロパティモジュールは、この一方通行のリンクを双方向のリンクに変換します ― 脚本アイテムとの関係を表すために、人物アイテムに相互のメタデータ値を追加します。（例えば、Friend of a Friendのプロパティ"Publications"を使用して、その人物による複数の出版物を記録することができます。）

いくつかの逆プロパティは明白です（例えば、Dublin Coreの"Has Part"は"Is Part Of"の意図された逆です）が、他のものはインストールされたアイテムの種類によって柔軟です。したがって、インストールの逆プロパティ関係は手動で指定する必要があります。

このように作成された逆リンクは、データ入力の時間を節約し、[データビジュアライゼーション](datavisualization.md)、高度なまたはファセットブラウジング、リソース関係の[バッチインポート](CSVImport.md)に役立ちます。

### 提案される逆プロパティ

- Dublin Core (`dcterms:`):
    - Replaces & Is Replaced By (`dcterms:replaces`; `dcterms:isreplacedby`)
    - Requires & Is Required By
    - References & Is Referenced By
    - Has Format & Is Format Of
    - Has Part & Is Part Of
    - Has Version & Is Version Of
    - Relation (自らの逆プロパティになることができます)。
- Bibliographic Ontology (`bibo:`):
    - citedBy and cites
    - presents and presentedAt
- Friend of a Friend (`foaf:`):
    - depicts & depiction
- [Relationship](http://purl.org/vocab/relationship) (`relationship:`)
    - Child of & Parent of
    - Spouse of (自らの逆プロパティになることができます)。

異なる語彙のプロパティから逆ペアを形成することができます（例えば、Dublin Coreの"Creator"とFriend of a Friendの"publications"）。

さらに、異なるリソースタイプ間で逆ペアを定義することもできます。例えば、アイテムセットとアイテムの間、またはアイテムとメディアの間です。これらの混在リソースペアは、同じリソーステンプレートを使用する必要はありません。例えば、"person"アイテムが"Is Part Of"プロパティの値として"community"アイテムセットを持つ場合、逆プロパティを"person"リソーステンプレートに設定すると、関連するアイテムセットは、自身のリソーステンプレートや既存のメタデータに関わらず、"Has Part"逆プロパティを与えられます。

## リソーステンプレートで逆プロパティを割り当てる

モジュールがインストールされると、左側のナビゲーションに表示されるはずです。逆プロパティを選択すると、利用可能なリソーステンプレートのテーブルに移動します。ラベルとオーナーに加えて、各テンプレートの逆プロパティの数を示す列があります。逆プロパティを使用するには、鉛筆アイコンでリソーステンプレートを編集することから始めます。

例えば、"Spouse"、"Child"、"Parent"などのプロパティを含む"Person"テンプレートを持っているかもしれません。これらのプロパティは他のリソースとの相互関係を示すために使用するつもりです。

![逆プロパティを追加するために既存のリソーステンプレートを編集する。](modulesfiles/inverseProperties_edit.png)

逆プロパティを割り当てるには、ドロップダウンメニューからそのプロパティの逆を選択します。リストオプションをスクロールするか、検索バーを使用して特定のプロパティにジャンプすることができます。複数の語彙があるインストールでは、意図したものを正しい語彙から選択してください。

シングルペアリングを設定すると、最初の値を編集すると第二の値が作成されるだけであり、第二の値を編集しても最初の値が作成されるわけではないことに注意してください。別のペアリングを設定しない限りです。例えば、"Child of"を逆に"Parent of"に設定すると、"Child of"の値を保存すると"Parent of"の値が作成されますが、"Parent of"の値を保存しても"Child of"の値は**作成されません**。"Parent of"にも逆の"Child of"を設定する必要があります。

この例外は、"Spouse of"や"Relation"のような自己ペアリングの場合です。

![ドロップダウンメニューから逆プロパティを選択する。](modulesfiles/inverseProperties_dropdown.png)

リソーステンプレートのすべての逆プロパティを選択したら、右上の"Submit"をクリックして変更を保存します。

## 逆プロパティの実際の使用

アイテムを追加または編集するとき、逆プロパティを持つリソーステンプレートを選択します。次に、逆のプロパティを持つプロパティで"Omeka resource"をクリックします。それから、リソースタイプ（例えば"Item"）をクリックして、引き出しから追加したいリソースを選択します。リソースのタイトルをクリックした後、引き出しの下にある"Select resource"ボタンをクリックしてアイテムをメタデータフィールドに追加します。"Quick add"スイッチを使って、一度に複数のリソースを追加することができます。

![アイテムに逆プロパティを追加する。](modulesfiles/inverseProperties_add.png)

アイテムの編集が完了したら"Save"をクリックします。リンクされたリソースとして追加したアイテムは、アイテムのショーページに表示されるはずです。

![保存された逆プロパティ。](modulesfiles/inverseProperties_itemShow.png)

リンクされたばかりのリソースをクリックすると、逆プロパティの値が自動的に作成されたことがわかります。

![リンクされたプロパティアイテムのショーページの逆プロパティ。](modulesfiles/inverseProperties_linkedProperty.png)

値を削除しても、その逆は自動的に削除されません。値を各リソースから手動で削除する必要があります。

### バッチ更新逆プロパティ

すでに設定されているリンクされたリソースがある場合、逆プロパティをアクティブにしてリソーステンプレートにペアリングを割り当ててから、バッチ編集機能を使用して相互の値をバッチ作成することができます。左側のナビゲーションでItems、Media、またはItem Setsに移動し、リソースの数を選択します（テンプレートを使用しているすべてのリソースを見つけるにはAdvanced Searchを使用します）。それから"Batch actions"ドロップダウンを使用して、選択したリソースを編集するか、検索結果のすべてのリソースを編集します。

![逆プロパティのためのエントリを示すバッチ編集フォーム、IRペアリングを生成するためのチェックボックスがある。](modulesfiles/inverseProperties_batchedit.png)

バッチ編集フォームには"Inverse properties"のエントリが表示されます。選択したすべてのリソースの逆プロパティがペアリングを生成するべきかどうかを示すためにチェックボックスを使用します。それからフォームを"Submit"します。

!!! 注意
	逆プロパティは[CSV Import](CSVImport.md)とは**動作しません**。通常どおりリンクされたリソースをインポートしてから、バッチ編集フォームを使用して逆ペアリングを更新してください。