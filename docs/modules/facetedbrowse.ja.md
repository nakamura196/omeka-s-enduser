# ファセットブラウズ

[ファセットブラウズモジュール](https://omeka.org/s/modules/FacetedBrowse){target=_blank}を使用すると、サイト訪問者がコレクションを探索するために使用できるフィルターおよびソート機能を備えた「リソースをブラウズする」ページを作成できます。ファセットブラウズページは、アイテム、アイテムセット、またはメディア用に作成することができます。

このモジュールを使用すると、サイト管理者はファセットブラウズページを設定し、それらをサイトの[ナビゲーション](../sites/site_navigation.md)に追加することができます。その後、エンドユーザーはリソースをブラウズしたり、ファセットを使用して結果を論理的かつ直感的な方法で絞り込むことができます。この機能は多くのウェブサイトでのフィルタリングオプションに似ており、明確な言語を持っていればユーザーが管理するのは簡単です。

以下の[パブリックビュー](#public-views)セクションでは、これらのファセットが単一カテゴリーとマルチカテゴリページでどのように表示されるかを示しています。

ファセットブラウズページは個別の[ページ](../sites/site_pages.md)として存在します。ファセットブラウズをブロックとして、または既存のブラウズページの一部としてページに追加することはできません。

有効にすると、ファセットブラウズはサイトごとに設定されます。

## 用語解説

ファセットブラウズページの側面を説明するために使用される用語のクイックガイドです：

- カテゴリ：特定のページでファセットが適用されるリソース（アイテム、アイテムセット、またはメディア）のグループ。リソースを絞り込むためにクエリを使用することも、コレクションに含めたいすべてのリソースタイプを表示するために空白のままにすることもできます。
- ファセット：リソースの側面（通常はメタデータの一部）で、カテゴリ内のリソースをフィルタリングする方法となります。ファセットブラウズは、メタデータの値に制御された語彙をいくつか持っている場合や、独特な値をバケット（たとえば、世紀別にブラウズされる日付など）に整理できる場合に最も機能します。
- 列：結果で各リソースに表示する情報。列はオプションです。少なくとも1つの列を設定すれば、アイテムは表形式（グリッドではなく）で表示されます。列が設定されていない場合、サイトのブラウジングのデフォルトが表示されます（例：各リソースのタイトル、サムネイル、説明など）。
- 選択：ファセットがブラウズ可能な場合、訪問者がそのファセットを並べ替えたり検索したりする最適な方法を許可する必要があります。たとえば、結果から文字列を除外したり含めたりすること、完全な値に正確に一致させること、または数値データタイプの場合は、設定したグループに値をバケットすることを許可することができます。

![国立公園で起きたイベントの一覧がファセットブラウズページに表示されています。画像の左側にはラジオボタン付きの時代のリストがあります。](../modules/modulesfiles/FacetedBrowse_publicView-basic.png)

上記のパブリックビューの例では、「アイテムを探索」というタイトルがナビゲーションへのページの外観に使用されています；「タイプでフィルタリング」は、ページの左手のサイドバーにあるカテゴリー名です。カテゴリ内のファセットには「Class」、「Template used」、「Collection」が含まれています。これらの例では、使用されている選択（Select）は「Multiple (list)」で、各オプションのチェックボックスが結果になり、表示されるオプションは4で切り捨てられています。

## ファセットブラウズページの作成

![ファセットブラウズの開始ページを表示したサイト管理者。](../modules/modulesfiles/FacetedBrowse.png)

ファセットブラウズモジュールがアクティブになると、すべてのサイトのコンテキストメニューにファセットブラウズのタブが表示されます。このタブをクリックすると、そのサイトのすべてのファセットブラウズページのリストが表示されます。

サイト管理者はファセットブラウズページを作成しなければなりません。それが完了するまで、それらをサイトのナビゲーションに追加することはできません。

### ファセットブラウズページを追加する

「ページを追加」ボタンをクリックして新しいページを作成します。これにより、基本情報をページに追加し、カテゴリの追加を開始する新しいページに移動します。

![ページ保存ドロップダウンを表示する作成ページインターフェース](../modules/modulesfiles/FacetedBrowse_AddPage.png)

**ページタイトル**は必須であり、ブラウザのタブに表示され、ページのメタデータとして送信されます。サイトナビゲーションの別のラベルを設定することができます。ほとんどのテーマは、このタイトルをページ上には表示しません。使用中のカテゴリーが1つの場合、そのタイトルがページに表示されます。2つ以上のカテゴリーが設定されている場合、カテゴリーリンクのサイドバーの上に「ブラウズ」と表示されます。

**リソースタイプ**のドロップダウンから、ユーザーがこのページでブラウズするリソースタイプを選択します：アイテム、アイテムセット、またはメディア。これはページ作成後には編集できません。

ファセットブラウズを続けるには、「Save and... Stay on this page」を選択します。

カテゴリーやファセットに取り組むことなく編集を保存して退出するには、「Save and... Return to pages」を選択します。

### カテゴリー

ページの作成が完了すると、ユーザーはファセットでリソースを絞り込むことができるカテゴリーを作成する必要があります。

「追加」ボタンをクリックし、カテゴリーに名前を付けます。

検索クエリインターフェースを使用して、ユーザーがブラウズするリソースのプールを設定します。「編集」ボタンをクリックすると、ブラウザウィンドウの右側にドロワーが開き、アイテム、メディア、およびアイテムセットの[高度な検索フォーム](../search.md#item-advanced-search)のように機能します。「詳細編集」ボタンをクリックすると、クエリ文字列を入力できます。クエリを空白のままにして、そのタイプのサイトのすべてのリソースを含めることができます。

サイト訪問者がこのカテゴリを使用してブラウズを開始したときに使用するデフォルトの並び替え方法を設定することもできます。ドロップダウンメニューには最初に「作成日」および「タイトル」が表示されますが、以下にカスタマイズするブラウジングテーブルの列を反映するように更新されます。このメニューを更新するためには、列の設定を保存する必要があります。アイテムセットの列でデフォルトソートを設定することはできません。

![名前、クエリ、デフォルトソート、ファセット、および列のオプションを示すカテゴリーを追加するフォーム](../modules/modulesfiles/FacetedBrowse_SearchQuery.png)

リソースのプールを設定したら、ファセットを作成し、ブラウズ表示の列を設定できます。ファセットの作成と表示列の設定が済んだら、カテゴリーを保存します。

1ページあたり複数のカテゴリーを持つことができます。これがパブリックビューでどのように機能するかについては、[1ページに複数のカテゴリー](#multiple-categories-on-one-page)を参照してください。