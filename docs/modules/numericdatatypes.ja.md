# 数値データタイプ

[Numeric Data Typeモジュール](https://omeka.org/s/modules/NumericDataTypes){target=_blank}は、特定のプロパティをリソーステンプレートを使用して数値データとして設定することを可能にします。プロパティを日付と時間、もしくは整数として指定できます。

## 数値プロパティを作成する
モジュールを実装するには、特定のプロパティを数値データタイプとして設定するために、[リソーステンプレート](../content/resource-template.md)を作成または編集する必要があります。

リソーステンプレートを作成または編集する際に、数値として設定したいプロパティを右サイドバーで見つけます。必要であれば、テンプレートに追加するためにそのプロパティをクリックします。

テンプレートにプロパティが含まれたら、プロパティを編集するために鉛筆アイコンをクリックします。開いた右側のドロワーで、「その他のオプション」という見出しの下にある「データタイプ」のドロップダウンを探します。

![「その他のオプション」のセクションのクローズアップで、データタイプのためのドロップダウンが表示されている。赤い矢印が数値データタイプの見出しを指している](../modules/modulesfiles/ndt-selectdata.png)

ドロップダウンから、「数値」の見出しの下にある以下のオプションを選択します：

- タイムスタンプは、年として広く設定したり、日付と時間として書式設定することができます；
- 整数は、全ての数値；
- 期間は、何かが続いた時間を表し、年から秒までのオプションがあります；
- インターバルは、日付ベースの範囲で、各プロパティのインスタンスに開始日と終了日を設定します。

ドロワーの下部にある「変更を設定」をクリックして、この設定を保存してください。

リソーステンプレートに変更を保存すると、選択した数値タイプがテンプレートの「データタイプ」の列に表示されるはずです。

![緑色のハイライトがついた更新成功メッセージ付きの新たに作成されたリソーステンプレート。4つのプロパティ - タイトル、説明、日付、および空間カバレッジがあります。データタイプの列で、日付がタイムスタンプタイプ、空間カバレッジが整数を持っています。](../modules/modulesfiles/ndt-review.png)

!!! 注意
	これらのフィールドは入力された数値のみを表示します。整数が何を示すのかを示したい場合は、使用しているスケールを含むようにプロパティのラベルを編集します。例えば、「空間カバレッジ」に代わるラベルとして「高さ（cm）」を作成します。

## 数値データを追加する
上記で作成したテンプレートを使用してアイテムを追加または編集するとき、数値として設定したプロパティは以下のように表示されます：

### タイムスタンプデータ
タイムスタンプのプロパティは自動的に年、月、日のフィールドを含んでロードされます。月の入力はドロップダウンであり、月の名前から選択します。

月を入力せずに日を入力した場合、日付の情報は保存されません。

![プロパティ日付のための空のタイムスタンプフィールド](../modules/modulesfiles/ndt-timestamp1.png)

日入力フィールドの右側にある「時間」ボタンをクリックすると、追加のドロップダウン
フィールドが時、分、秒のためにロードされます。AM／PMのオプションはありません。２４時間制の時間を使用します（14は午後2時など）。

![プロパティ日付のための空のタイムスタンプフィールドで、日付の入力オプションの下に時刻の入力オプションが一列になっている](../modules/modulesfiles/ndt-timestamp2.png)

エントリーは整数でなければならず、小数点は使えません。

### 整数データ
整数のプロパティは、データを入力すると右側に上下の矢印が表示される狭い入力フィールドを持ちます。

![空間カバレッジのプロパティのフィールドで、整数入力フィールドに1という数字があり、フィールドの右側に上または下のトグルボタンがある](../modules/modulesfiles/ndt-integer.png)

エントリーは整数でなければならず、小数点はサポートされておらず、最も近い数値に切り上げられます。

### 期間データ
期間のプロパティには、リソースの期間を入力するための一連のフィールドがあります。年、月、日のフィールドがあります。日入力フィールドの右側にある「時間」ボタンをクリックすると、時間、分、秒の追加のドロップダウンフィールドがロードされます。AM／PMのオプションはありません。２４時間制の時間を使用します（14は午後2時など）。

![期間とラベル付けされたプロパティで、語彙dctermsの「extent」を使用しています。上で述べたフィールドが積み重なっていて、一番上に年があります。](../modules/modulesfiles/ndt-duration.png)

すべてのフィールドに入力する必要はありません。たとえば、1年と5日の期間を入力して、月のフィールドを空白にすることができます。

### インターバルデータ
インターバルデータには、リソースの始まりと終わりの日付と時刻を入力することができます。開始日と終了日のための2組のタイムスタンプフィールドがあります。

![時刻が入力されていないインターバルプロパティ](../modules/modulesfiles/ndt-interval.png)

## 並べ替え
数値データタイプを使用するアクティブなリソーステンプレートがある場合、それらはアイテム、メディア、およびアイテムセットのブラウズビューで並べ替え可能なオプションとして表示されます。

リソースのテーブルの右上隅にある最初のドロップダウンをクリックします。デフォルトでは「作成」になっています。

![リソーステーブル上のオプションのクローズアップで、「作成」のドロップダウンオプションを指す赤い矢印がある](../modules/modulesfiles/ndt-browsesort1.png)

このドロップダウンをクリックすると、数値データタイプを使用するすべてのプロパティを含む多くのオプションが表示されます。これらのオプションは、データタイプを括弧で囲んだプロパティとして表示されます。例えば「Date (numeric:timestamp)」。

![ドロップダウンの中身で、通常のオプションに加えて、数値データタイプを使用する8つのプロパティがある](../modules/modulesfiles/ndt-browsesort2.png)

## 数値データの一括編集
このモジュールは、[アイテムのバッチ編集](../../content/items/#batch-editing)に「数値に変換」の追加オプションを付け加えます。

「数値に変換」オプションを使用すると、既存のテキスト入力プロパティを数値データタイプに変換することができます。データが現在OmekaリソースまたはURIであるプロパティでは機能しません。

最初のフィールドでは、ドロップダウンからプロパティを選択します。プロパティを検索するために入力することができます。このドロップダウンは語彙からプロパティ名をロードし、リソーステンプレートからの追加のラベルは持ちませんので、どの語彙用語を探しているのか確認することが大切です。

次のフィールドでは、以下のオプションから選択します：

- タイムスタンプに変換
- インターバルに変換
- 期間に変換
- 整数に変換。

![数値に変換に対するバッチ編集のオプション](modulesfiles/ndt-batchedit.png)

テキストデータが数値データに変換されると、モジュールは整数またはISO 8601形式の日付と時刻を識別します。例えば、`MM/DD/YYYY`の形式の日付は認識して再形式化しません。正しい形式で手動編集するか、[CSV Import](../modules/csvimport.md)を使用して一括インポートする必要があります。

[日付](https://en.wikipedia.org/wiki/ISO_8601#Dates){target=_blank}には、以下のような形式を使用します。値の間にはダッシュを含めます：

- `2022`
- `2022-08` (年と月、日付なし)
- `2022-08-18`.

日付に[時間](https://en.wikipedia.org/wiki/ISO_8601#Times){target=_blank}を追加するには、以下の形式を使用します：

- `2022-08-18T17:26:49+00:00` ([UTCからの時間オフセット](https://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC){target=_blank})
- `2022-08-18T17:26:49Z` ([協定世界時](https://en.wikipedia.org/wiki/ISO_8601#Coordinated_Universal_Time_(UTC)){target=_blank}). 

年を省略して月や日を提供することはできません。序数日付（`2000-175`で年の175番目の日）を供給することはできません。

[インターバル](https://en.wikipedia.org/wiki/ISO_8601#Time_intervals){target=_blank}には、次の形式を使用します。始点と終点、または1つの時点と期間として：

- `2007-03-01T13:00:00Z/2008-05-11T15:30:00Z` (開始と終了)
- `2007-03-01T13:00:00Z/P1Y2M10DT2H30M` (開始時刻/日付と期間)
- `P1Y2M10DT2H30M/2008-05-11T15:30:00Z` (期間と終了時刻/日付)。

以下の形式を使用して、[期間](https://en.wikipedia.org/wiki/ISO_8601#Durations){target=_blank}を表します。この形式は、年数、月数、日数などを表します：

- `P23DT23H` (23日間と23時間)
- `P3Y6M4DT12H30M5S` (3年、6ヶ月、4日、12時間、30分、5秒)。

## 数値データ検索
モジュールがアクティブのとき、アイテムの高度な検索に追加の検索オプションを追加します。

![入力されていない数値データタイプ検索オプション](../modules/modulesfiles/ndt-search.png)

各検索オプションで、ドロップダウンから特定のプロパティを選択する必要があります。例えば、映画用にDurationを使用しているリソーステンプレートが2つある場合（`time:hasDuration`と`dcterms:extent`）、探しているリソーステンプレートから正しいプロパティを選択する必要があります。ドロップダウンには元のプロパティラベル（上記の例では`Extent`または`hasDuration`）が表示されます。ドロップダウンのプロパティをマウスオーバーする場合、そのプロパティを使用しているリソーステンプレートを表示し、検索が適用されます。

![「Date comes before」検索のクローズアップで、Dateプロパティのツールチップが表示されている](../modules/modulesfiles/ndt-searchhelper.png)

**タイムスタンプ** データには、「Date comes before」と「Date comes after」の2つの検索オプションがあります。タイムスタンプのために使用されるプロパティをドロップダウンから選択します。タイムスタンプのために使用されるプロパティのみがドロップダウンに表示されます。

**期間** データには、タイムスタンプデータと同じように、「Duration is greater than」と「duration is less than」の2つのオプションがあります。検索したいプロパティを選択した後、年、月、日、時、分、秒の値を入力します。

**Date in interval** はインターバル内の日付を検索します。インターバルで検索する場合、できるだけ正確であることが重要です。モジュールがタイムスタンプを格納する方法のため、検索する日付はインターバル*の中に*落ちていなければなり