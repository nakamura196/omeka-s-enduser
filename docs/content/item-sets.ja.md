# アイテムセット

アイテムセットは、Omeka Classicのコレクションに似たアイテムの集合です。Omeka Sでは、アイテムはどの数のセットにも属することができ、アイテムセットに属するアイテムの数に制限はありません。

アイテムセットの権限

ユーザーがアイテムセットを作成すると、彼らはそのアイテムセットの「所有者」となります。ほとんどのユーザーレベルでアイテムセットを作成する能力があり、常に自分のアイテムセットを削除できます。他人が所有するアイテムセットを削除することは上位レベルのユーザーにのみ許されます。

ユーザーは、追加が許可されたアイテムセットや、彼らが所有するアイテムセット（その状態がオープンまたはクローズであるかに関わらず）にアイテムを追加することができます。グローバル管理者とスーパーバイザーは、任意のアイテムを任意のアイテムセットに追加することができます。

| カテゴリ | 権限 | グローバル管理者 | スーパーバイザー | 編集者 | レビュアー | 作者 | リサーチャー |
|-----|-----|---|---|---|---|---|---|
| アイテムセット | 追加 | はい | はい | はい | はい | はい | いいえ |
| | 編集 | 全て | 全て | 全て | 全て | 自分自身のもの | いいえ |
| | 削除 | 全て | 全て | 全て | 自分自身のもの | 自分自身のもの | いいえ |
| 値の注釈 | 追加/編集 | はい | はい | はい | はい | はい | いいえ |
| プライベートなオブジェクト | 閲覧 | はい | はい | はい | はい | いいえ | いいえ |

ユーザーの役割を、たとえば著者から研究者に変更する場合、彼らは以前に許可されていたときに作成したアイテムセットの所有者であることに変わりはありません。アイテムセットは移管されません。ユーザーを削除すると、そのアイテムセットは「所有者なし」として表示されます。グローバル管理者のみがアイテムセットの所有権を再割り当てすることができます。

## アイテムセットタブ

アイテムセットは管理ダッシュボードの左ナビゲーションにある**アイテムセット**タブ（三つの積み重ねた箱のアイコン）を通じて管理されます。

![アイテムセットビューを閲覧すると、三つのアイテムセットが表示されます。](contentfiles/itemsets_browse.png)

タブをクリックすると、以下が表示されるアイテムセット一覧表が現れます：

- **タイトル**
- **編集**（鉛筆）、**削除**（ゴミ箱）、**詳細**（省略符号）のアイコン
- アイテムセットの**クラス**
- セットの**所有者**
- セットが**作成された**日付。

アイテムセット画面の右上隅には「新規アイテムセットを追加」ボタンがあります。

アイテムセットをナビゲートおよび作成するオプションは、アイテム表のヘッダーにあります。

- 左側には、前後の矢印があり、特定のページのアイテムセットに直接移動するためのフィールドがあります。
- 中央には、**詳細検索**のボタンがあります。
- 右側には、**タイトル**、**クラス**、**所有者**、または**作成日**によって表を**昇順**または**降順**に再順序するオプションがあります。

## アイテムセットを見る

アイテムセットに関する情報をすばやく見るには、アイテムセット閲覧ページのアイテムセットの「詳細」ボタン（省略符号アイコン）をクリックします。これにより、ページの右側にカラムが開き、アイテムセットのタイトル、可視性、アイテム数が表示されます。

![アイテムセットの引き出しビュー、説明とタイトル付き](contentfiles/itemsets_drawer.png)

アイテムセットのすべての情報を見るには、その名前をクリックします。アイテムセットビューページでは、アイテムセットの**メタデータ**と**関連リソース**を見るためのタブがあります。アイテムセットのビューページの右側には、作成日、所有者、および可視性に関する情報があります。アイテムセットの場合、可視性にはセットがプライベートまたは公開であるか、他のユーザーがセットにアイテムを追加できるかどうかが含まれます。

![単一のアイテムセットの読み取りビュー](contentfiles/itemsets_view.png)

アイテムセットに含まれるアイテムを表示するには、アイテムセット閲覧ページのセット内のアイテム数をクリックするか、個々のアイテムセットページの右上隅にある「アイテムを表示」ボタンをクリックします。

### 関連リソース

アイテムセットの**関連リソース**は、そのプロパティを通じてこのアイテムセットに[リンクされた他のOmekaリソース（アイテム、アイテムセット、またはメディア）](#omeka-resource)です。このセクションは、このアイテムセットをプロパティに持つリソースのみを表示します（それにリンクされたリソース）；リンクされた*から*このアイテムは、それを満たすプロパティに表示されます。

関連リソースは、現在のアイテムが使用しているプロパティによってグループ分けされます。下の例では、現在のアイテムセット「Newspapers」は、「フォーマット」というプロパティに対してリンクされたリソースに使用されています。

「プロパティによるフィルタ」ドロップダウンを使用して、特定のプロパティを参照する関連リソースのみを表示するようにフィルタリングできます。これは実際に使用されているプロパティのみを表示します。

![関連リソースタブを表示するアイテムセット。2つのアイテムが「フォーマット」プロパティの値としてアイテムセットを使用しています。](contentfiles/itemsets_linked.png)

アイテムセットがパブリックサイトで表示される場合、すべての関連リソースは使用されているメタデータプロパティに基づく一連のテーブルで表示されます。リソースはリソースタイプ（アイテム、アイテムセット、またはメディア）によってソートされ、一度に一つのタイプのみが表示されます。関連リソースのないアイテムセットはこれらのテーブルを表示しません；サイトに含まれていないリソースを除外するように設定されたサイトに表示されるアイテムセットも、これらのエントリを表示しません。

![デフォルトテーマでのアイテムセット表示。アイテムセットにリンクする多数のOmekaアイテムが「フォーマット」として表示されています](contentfiles/itemsets_linked2.png)

リソースページでの関連リソースの表示は、各サイトで設定できます。「テーマ」をクリックし、「[リソースページを設定](../sites/site_theme.md#configure-resource-pages)」ボタンをクリックして、各リソースの「関連リソース」テーブルを表示するかどうかと場所を決定します。

リンクされたリソースが、問題のリソースが指定されたサイトに追加されていない場合でも、それらのリンクを表示するかどうかを制御することもできます。[サイト設定の「表示」セクション](../sites/site_settings.md#show)で、「サイトにないリソースを除外する」のチェックボックスを見つけることができます。

## アイテムセットを追加する

新しいアイテムセットを追加するには、ダッシュボードの左側ナビゲーションから**アイテムセット**タブをクリックします。画面右側の「新規アイテムセットを追加」ボタンをクリックします。

デフォルトでは、新しいアイテムセットは`dcterms:title`と`dcterms:description`のプロパティと共に読み込まれます。右側のリストからプロパティを選択することで、他のフィールドを追加できます。語彙（Dublin Core、Bibliographic Ontologyなど）によってフィールドを参照するか、プロパティと語彙のリストの上にある**プロパティをフィルタ**バーで検索します。

アイテムセットは、アイテムで利用可能なものと同じリソーステンプレートを使用して、事前選択されたフィールドを提供できます。アイテムセットの一般的なフィールドには、`dcterms:Description`を使用した短いテキスト説明が含まれます。このテキスト（複数の説明エントリがある場合は最初のエントリのみ）は、デフォルトで「アイテムセットを閲覧」ページ（`youromekaurl/site-slug/item-set`にあります）に表示されます。ユーザーがパブリック側でアイテムセットを表示する際（`youromekaurl/site-slug/item-set/1`にあります。「1」はアイテムセットのIDです）、すべてのメタデータフィールドが表示されます。

右側のリストからプロパティを選択することで、他のフィールドを追加できます。語彙（Dublin Core、Bibliographic Ontologyなど）によってフィールドを参照するか、プロパティと語彙のリストの上にある**プロパティをフィルタ**バーで検索します。

### 値
各フィールドには、テキスト、インストール内のリソース、または外部リンクを追加できます。

![アイテムセットを追加、プロパティは選択されていません](contentfiles/itemsets_add.png)

各値に対して目のアイコンを使用して、個々のプロパティ値をプライベートまたは公開可視として設定できます。プライベートに設定されたプロパティは、グローバル管理者、サイト管理者、編集者にも表示されることに注意してください。作者は所有するアイテムのすべてのプロパティを見ることができますが、他のユーザーが作成したプライベートプロパティは見ることができません。

下の画像では、最初のプロパティ（タイトル）は開いた目のアイコンで示されるように公開です。2番目のプロパティ（説明）は斜線の入った目のアイコンで示されるようにプライベートです。目のアイコンをクリックするかエンターキーを押すと、公開とプライベートが切り替わります。

![説明通り](contentfiles/items_propviz.png)

#### テキスト

テキストフィールドは、フォーマットされていないテキスト入力を可能にします。これらのフィールドではマークアップは許可されません（例：太字、斜体、Markdown、HTML）。

入力の上にある地球儀シンボルを使用して、入力内容の言語を示すことができます。地球儀をクリックしてテキストフィールドをアクティブにし、テキストが書かれている言語の[ISO 639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes){target=_blank}コードを入力します。

![2つのエントリを持つ説明フィールド、1つは英語、1つはフランス語で、それぞれに2文字の言語コードとテキストエントリがあります。](contentfiles/items_lang.png)

#### Omekaリソース

これらのフィールドは、作成しているリソースとそのフィールドを満たすリソースとの間に内部リンクを作成します。

別のアイテムまたはアイテムセットを使用するオプションがあります。

リソースタイプを選択すると、インストール内のすべてのリソースを参照できるサイドドロワーが開きます。ドロワーの上部にある検索機能を使用して、リストを絞り込んだり、特定のアイテムやアイテムセットをすばやく見つけたりできます。

アイテムまたはアイテムセットを選択すると、詳細情報が読み込まれ、リソースのリンクを完了するために「リソースを選択」をクリックする必要があります。右上隅の「X」ボタンをクリックして、アイテムまたはアイテムセットのリストに戻ることもできます。

![アイテム編集ビューでリンクするアイテムのリストを持つアイテム選択メニュー](contentfiles/items_addresource.png)

プロパティにアイテムリソースを使用している場合、ドロワーで希望するアイテムを見つけるための追加オプションがあります。「検索をフィルタ」の隣にある三角ボタンをクリックして、これらのオプションを開きます。

これにより、ボタンの下にメニューが開き、ドロワー内のアイテムをフィルタリングする以下のオプションが表示されます：

- クラスによるフィルタ：インストール上の語彙によって提供される任意のクラスを選択できるドロップダウン
- アイテムセットによるフィルタ：特定のアイテムセットに関連付けられたアイテムのみにドロワーに表示されるアイテムを制限できるドロップダウン
- アイテムIDによるフィルタ：使用したいアイテムのIDを入力できる検索フィールド。アイテムのIDは編集ページのURLで見つけることができます；アイテムを編集していてURLが`admin/item/11547/edit`の場合、アイテムのIDは11547です。

![上記で説明されたオプション](contentfiles/items_addresItem.png)

アイテムリソースには「クイック追加」のオプションもあります。このスイッチが切り替えられると、ドロワー内のすべてのアイテムにチェックボックスが表示されます。これらのチェックボックスを使用して、一度に複数のアイテムをプロパティとして追加できます。一度に一つのプロパティのみを編集できるため、すべてのアイテムは同じプロパティ（例：Creator、またはHas Part）を入力する必要があることに注意してください。

![「クイック追加」のスライダーボタンを指す赤い矢印。表示されている2つのアイテムには、代表的なサムネイルの左側に空のチェックボックスがあります](contentfiles/items_quickadd.png)

#### URI
URIフィールドは外部のウェブサイトまたはオンラインリソースにリンクします。すべてのURI値にはリンク自体と、URIを人間が読みやすいもので置き換えるためのオプションのテキストラベルがあります。たとえば、クリエイターを芸術家や著者の統制語彙へのURIとして入力し、プレーンテキストでクリエイターの名前をラベルとして含めることができます。OmekaはURIから情報を自動的に取得しません。

### 値注釈
リソースに関連付けられたプロパティの値を入力する際、そのリソースについて述べていることになります。選択すれば、Omekaはその述べたことについて述べることを可能にします。これを値注釈と呼びます。値注釈の利点は、以下のようなものを注釈することで、曖昧な事実をより具体的にすることを選択できることです：

- 出所：この事実はどこからのものか？
- 時間：この事実はいつ起こったか？
- 場所：この事実に関連する場所は？
- 確実性：この事実の信頼度は？
- タイプ：この事実はどのようなタイプの概念/物事か？

リンクドデータの世界では、このプロセスは[具象化](https://www.w3.org/wiki/RdfReification){target=_blank}として知られています。各値は任意の数の注釈を持つことができます。

注釈を作成するには、値入力インターフェースの右側にある省略記号をクリックし、注釈アイコン（吹き出し）をクリックします。

![注釈バブルがハイライトされたプロパティの詳細](contentfiles/annotation_add.png)

注釈サイドバーが右側に開きます。Omeka Sインストール内で利用可能な任意のプロパティを選択して、注釈とそれが説明する値との関係を記述します。たとえば、`dcterms:Contributor`プロパティに関連付けられた値は、貢献の性質についてより詳細に注釈を付けることができます。または、`dcterms:Description`フィールドを使用して単純にメモを含めることもできます。

注釈のデータタイプを選択します：テキストフィールド、URI、またはOmeka Sインストール内のリソース。モジュールは追加のデータタイプを利用可能にする場合があります。「注釈を追加」ボタンをクリックすると、下に新しいフィールドが表示されます。注釈を入力します。希望すれば、選択した値に対してこれを複数回行うことができます。次に「注釈を設定」をクリックしてプロセスを完了します。

![プロパティが選択され、注釈が含まれた値注釈サイドバーの画像](contentfiles/annotation_sidebar.png)

[各サイトには設定があります](../sites/site_settings.md#show)値注釈が公開されるかどうかを示すため。これにはアイテムとメディアの値注釈が含まれます。

[Custom Vocabモジュール](../modules/customvocab.md)を使用して、注釈用の統制語彙を設定できます。この場合、リソーステンプレートを使用してプロパティにカスタム語彙を適用する必要はありません；ドロワーの値タイプドロップダウンから任意のインストールされた語彙を選択できます。これにより、語彙の選択肢が用語のドロップダウンに読み込まれます。

![DC:Contributorに注釈が付いたアイテムエントリのスクリーンショット。「Contributor Annotation Type」という名前のカスタム語彙が読み込まれ、「Editor」、「Translator」、「Publishing Organization」などの用語が表示されています。](contentfiles/annotation_customvocab.png)

### 詳細設定
デフォルトでは、Omeka Sはアイテムセットに追加された最初のアイテムからのメディアを使用してセットのサムネイルを生成します。アイテムセットのサムネイルに非メディア画像を使用したい場合は、ここで設定できます。

![アセットが選択されていないサムネイルタブ。タブにはサムネイル作成に関するメッセージとアセットを「選択」するボタンが表示されています](contentfiles/itemset_thumb1.png)

このタブでサムネイルとして選択し、アップロードするアセットは、[サイトロゴ](../../sites/site_theme/#settings-options)用に作成されたものと同じです。

アセットをサムネイルとして割り当てるには、タブのメインワークエリアの「選択」ボタンをクリックします。これにより、右側にドロワーが開きます。

![アップロードオプションと2つのアセット（両方とも画像）を持つ選択ドロワー。](contentfiles/itemset_thumb2.png)

ドロワーは2つのオプションを提供します：ブラウザーを使用してファイルをアップロードするか、既存のアセットから選択します。既存のアセットを選択するには、単純にそれをクリックすると自動的にアイテムセットに割り当てられます。

![サムネイルタブを開いたアイテムセット追加。巻紙の上に羽ペンが描かれた画像のアセットがメインワークエリアにあります。その下に選択とクリアのボタンがあります](contentfiles/itemset_thumb3.png)

サムネイルとして割り当てたアセットを削除するには、アセットの画像の下にある「クリア」ボタンをクリックします。それを置き換えるには、「選択」をクリックして、新しいサムネイルアセットを選択またはアップロードします。

### アクセス設定
アイテムセットには、アクセスを制御する2つの設定があります。**公開**または**非公開**、**オープン**または**クローズ**にできます。

**公開/非公開の設定**ボタン（目のアイコン）を使用して、アイテムセットを公開で表示可能にするか、Omeka Sインストールのすべてのユーザーのみ（非公開）にするかを設定します。

**オープン**セットは、インストール上の任意のユーザーが編集および追加できます。

**クローズ**セットは、その作成者、サイト管理者、グローバル管理者のみが利用可能で編集可能です。

オープンかつ公開：![開いた南京錠アイコンと開いた目のアイコンを持つオープンで公開のセット](contentfiles/setOpenPublic.png){style="display:inline;"}

クローズかつプライベート：![閉じた南京錠アイコンと斜線の入った目のアイコンを持つクローズでプライベートなセット](contentfiles/setClosedPrivate.png){style="display:inline;"}  

公開/プライベートとオープン/クローズの設定は独立して動作することに注意してください - たとえば、オープンでプライベートなアイテムセットを持つことができます。

## アイテムセットを編集する
アイテムセットを作成したら、編集アイコン（鉛筆ボタン）をクリックするか、アイテムセットのタイトルをクリックして右上隅の「編集」ボタンをクリックすることで、いつでも編集できます。

アイテムセットを編集するオプションは、アイテムセットを作成するのと同じです。

編集をキャンセルするには、「削除」ボタンと「保存」ボタンの間にある右上隅の「キャンセル」ボタンをクリックします。

### アイテムセットを削除する

以下で説明するように、個々のアイテムセットを削除することも、複数のアイテムセットを一括削除することもできます。

アイテムセットを削除しても、アイテムセットに関連付けられたアイテムは削除されません。

アイテムセット閲覧ビューから、削除したいアイテムセットの行にあるゴミ箱アイコンをクリックして、アイテムセットを削除できます。これにより、右側にドロワーが開き、上部にアイテムセットを削除することを確認するメッセージが表示され、確認削除ボタンの下にアイテムセットのメタデータが表示されます。アイテムセットを削除するには「削除を確認」をクリックし、キャンセルするにはドロワーを閉じます。

![2つのアイテムセットがあるアイテムセット閲覧ビューで、ゴミ箱アイコンを指す赤い矢印](contentfiles/itemsets_browseDel.png)

![アイテムセットを削除するための確認メッセージがあるドロワー。削除確認ボタンとアイテムセットの基本的な説明メタデータ（タイトル、説明、セット内のアイテム数）が含まれています。](contentfiles/itemsets_browseDel2.png)

アイテムセットの編集ページから、右上隅の「削除」ボタンをクリックします。これにより、右側にドロワーが開き、アイテムセットを削除することを確認するよう求められます。アイテムセットを削除するには「削除を確認」をクリックし、キャンセルするにはドロワーを閉じます。

![警告ドロワーのクローズアップ。「このアイテムセットを削除してもよろしいですか」というテキストと、その下に白いテキストで「削除を確認」と書かれた赤いボタンがあります。](contentfiles/itemset-delete2.png)

## 一括操作

アイテムセットの閲覧ページ（`admin/item-set`）から、ページネーションオプションの近くにある左上のドロップダウンメニューを使用して、アイテムセットを一括編集できます。左側のチェックボックスを使用して一括編集用にアイテムセットを手動で選択することも、ページ上のすべてのアイテムセットを選択することも、ドロップダウンを使用して現在のサブセット内のすべてのアイテムセットを編集することもできます。

編集者、スーパーバイザー、グローバル管理者は、インストール内のすべてのアイテムセットを一括編集および一括削除できます。作者レベルの権限を持つユーザーは、自分のアイテムセットは一括編集または一括削除できますが、他人のアイテムセットはできません。この場合、ページ上のすべてのアイテムセットを選択するか、すべてのアイテムセットを選択しても、所有するアイテムセットのみが含まれます。レビュアーレベルのユーザーは、すべてのリソースを一括削除することはできませんが、選択したリソースを一括削除できます。

![一括編集および削除オプションのドロップダウンを指す赤い矢印](contentfiles/itemsets_batch.png)

一括操作は以下の通りです：

- 選択したものを編集：ページで選択されたアイテムセットのみを編集
- すべてを編集：検索で返されたすべてのアイテムセット（デフォルトはすべてのアイテムセット）を編集
- 選択したものを削除：ページで選択されたアイテムセットのみを削除
- すべてを削除：検索で返されたすべてのアイテムセット（デフォルトはすべてのアイテムセット）を削除。

ページあたりの結果数は、[インストールのグローバル設定](../admin/settings.md#general)で設定されます。

最初に「🔍 詳細検索」リンクを使用して、編集用のサブセットにアイテムセットを絞り込むことができます。たとえば、[詳細検索](../search.md#item-advanced-search)を使用して、特定のユーザーが所有するアイテムセットに制限できます。

検索を実行すると、選択したパラメータが画面上部に表示された状態で、再び閲覧ページが表示されます。この閲覧画面から、左側のチェックボックスを使用して一括編集用にアイテムセットを手動で選択することも、ページ上のすべてのアイテムセットを選択することも、ドロップダウンを使用して現在のサブセット内のすべてのアイテムセットを編集することもできます。

次の画面から一括操作を完了すると、同じアイテムセットサブセットに戻ります。

### 一括編集

**一括編集**アイテムセットは新しいページに移動します。編集されるアイテムセットは右側のドロワーに表示されます。編集されるアイテムセットの数が正しく見えることを確認してください。

一括編集フォームは以下のオプションを提供します：

- 可視性を設定：ラジオボタン。公開または非公開を選択して、アイテムセットをログアウトしたユーザーに表示するかしないかを設定します。
- 開放性を設定：ラジオボタン。オープンまたは非オープンを選択します。オープンセットは、インストール上の任意のユーザーが編集および追加できます；クローズセットは、その作成者、サイト管理者、グローバル管理者のみが利用可能で編集可能です。
- テンプレートを設定：ドロップダウン。インストールのリソーステンプレートから選択します。「[テンプレートを解除]」オプションで選択したアイテムセットからテンプレートを削除できます。タイプして検索したい場合は、ドロップダウンメニューの上部に検索バーが表示されます。
- クラスを設定：ドロップダウン。インストールされた語彙のクラスから選択します。「[クラスを解除]」オプションで選択したアイテムセットからすべてのクラスを削除できます。タイプして検索したい場合は、ドロップダウンメニューの上部に検索バーが表示されます。
- プロパティ値をクリア：すべての語彙のすべてのプロパティを含むドロップダウンとテキストフィールド。これを選択すると、影響を受けるアイテムセットのそのプロパティの値が削除されます。複数のプロパティ値を一度に削除できます：残りのオプションを見るために、テキストフィールドを再度クリックします。
- 値の可視性を設定：ドロップダウンとテキストフィールド、ラジオボタン付き。特定のプロパティまたは複数のプロパティの可視性を公開または非公開に設定します。フォーム上部のラジオボタンとは異なり、これは全体のアイテムセットではなく、1つまたは複数のメタデータフィールドにのみ影響します（たとえば、一部の公開アイテムセットで「作成者」値を非表示にしたい場合）。テキストフィールドからプロパティを選択し（タイプして検索を開始）、このオプションで「公開」または「非公開」のラジオボタンを選択します。テキストフィールド内を再度クリックして複数のプロパティを追加できますが、すべて「公開」または「非公開」になります。

![上記で説明されたオプションを持つ一括編集アイテムフォーム。](contentfiles/itemsets_batchedit.png)

さらに、一括編集フォームの下部にあるボタンを使用して、すべてのアイテムセットにプロパティを追加できます：

- テキスト値を追加
- リソース値を追加
- URI値を追加。

これらのいずれかを選択すると、インストールされた語彙からプロパティを選択し、そのプロパティの値を入力できるブロックがフォームに追加されます。

![一括編集フォームのテキスト値追加ブロックのみを描いた画像。空のテキストフィールドの上に「プロパティを選択」というラベルのドロップダウンがあります](contentfiles/itemsets_property.png)

### 一括削除

**削除操作**の場合、削除されるアイテムセットの数を通知するドロワーが画面の右側に開きます。赤い「削除を確認」ボタンをクリックしない限り、何も削除されません。この操作は元に戻すことができません。アイテムセットの削除をやめるには、削除ドロワーの右上隅の「X」をクリックします。削除を確認するには、「本当によろしいですか」チェックボックス（「すべて削除」の場合のみ、「選択したものを削除」の場合は不要）をチェックし、「削除を確認」をクリックします。セットを削除しても、そのセットに関連付けられたアイテムは削除されないことに注意してください。

![削除されるアイテム数を赤色で説明するテキストを含む警告のクローズアップ。](contentfiles/itemsets_bulkdelete.png)